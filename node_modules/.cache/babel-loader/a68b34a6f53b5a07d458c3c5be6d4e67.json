{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\clement\\\\Desktop\\\\Programming\\\\Projects\\\\Web\\\\moviedb\\\\src\\\\context\\\\movie_context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useReducer, useEffect } from \"react\";\nimport axios from \"axios\";\nimport reducer from \"../reducer/movie_reducer\";\nimport { FETCH_TRENDING_MOVIE, FETCH_POPULAR_MOVIE, FETCH_TOP_RATED_MOVIE, FETCH_UPCOMING_MOVIE } from \"../constants/action\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MovieContext = /*#__PURE__*/React.createContext();\nconst initialState = {\n  api_url: \"https://api.themoviedb.org/3\",\n  api_key: \"?api_key=d60f4e8797f13dd4c61d8414708bb669&language=en-US&page=1\",\n  movie: [{\n    category: \"Trending\",\n    keyword: \"/trending/movie/day\",\n    action: FETCH_TRENDING_MOVIE,\n    movie: []\n  }, {\n    category: \"Popular\",\n    keyword: \"/movie/popular\",\n    action: FETCH_POPULAR_MOVIE,\n    movie: []\n  }, {\n    category: \"Top Rated\",\n    keyword: \"/movie/top_rated\",\n    action: FETCH_TOP_RATED_MOVIE,\n    movie: []\n  }, {\n    category: \"Upcoming\",\n    keyword: \"/movie/upcoming\",\n    action: FETCH_UPCOMING_MOVIE,\n    movie: []\n  }]\n};\nexport const MovieProvider = ({\n  children\n}) => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const fetchMovie = async (action, url) => {\n    try {\n      const movies = [];\n      dispatch({\n        type: action,\n        payload: movies\n      });\n    } catch (error) {}\n  };\n\n  useEffect(() => {\n    const list = state.movie;\n    list.forEach(item => {\n      const action = item.action;\n      const url = `${state.api_url}${item.keyword}${state.api_key}`;\n      console.log(url);\n      fetchMovie(action, url);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(MovieContext.Provider, {\n    value: { ...initialState\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MovieProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n\n_c = MovieProvider;\nexport const useMovieContext = () => {\n  _s2();\n\n  return useContext(MovieContext);\n};\n\n_s2(useMovieContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieProvider\");","map":{"version":3,"sources":["C:/Users/clement/Desktop/Programming/Projects/Web/moviedb/src/context/movie_context.js"],"names":["React","useContext","useReducer","useEffect","axios","reducer","FETCH_TRENDING_MOVIE","FETCH_POPULAR_MOVIE","FETCH_TOP_RATED_MOVIE","FETCH_UPCOMING_MOVIE","MovieContext","createContext","initialState","api_url","api_key","movie","category","keyword","action","MovieProvider","children","state","dispatch","fetchMovie","url","movies","type","payload","error","list","forEach","item","console","log","useMovieContext"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,UAA5B,EAAwCC,SAAxC,QAAyD,OAAzD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,SACEC,oBADF,EAEEC,mBAFF,EAGEC,qBAHF,EAIEC,oBAJF,QAKO,qBALP;;AAOA,MAAMC,YAAY,gBAAGV,KAAK,CAACW,aAAN,EAArB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,OAAO,EAAE,8BADU;AAEnBC,EAAAA,OAAO,EAAE,iEAFU;AAGnBC,EAAAA,KAAK,EAAE,CACL;AACEC,IAAAA,QAAQ,EAAE,UADZ;AAEEC,IAAAA,OAAO,EAAE,qBAFX;AAGEC,IAAAA,MAAM,EAAEZ,oBAHV;AAIES,IAAAA,KAAK,EAAE;AAJT,GADK,EAOL;AACEC,IAAAA,QAAQ,EAAE,SADZ;AAEEC,IAAAA,OAAO,EAAE,gBAFX;AAGEC,IAAAA,MAAM,EAAEX,mBAHV;AAIEQ,IAAAA,KAAK,EAAE;AAJT,GAPK,EAaL;AACEC,IAAAA,QAAQ,EAAE,WADZ;AAEEC,IAAAA,OAAO,EAAE,kBAFX;AAGEC,IAAAA,MAAM,EAAEV,qBAHV;AAIEO,IAAAA,KAAK,EAAE;AAJT,GAbK,EAmBL;AACEC,IAAAA,QAAQ,EAAE,UADZ;AAEEC,IAAAA,OAAO,EAAE,iBAFX;AAGEC,IAAAA,MAAM,EAAET,oBAHV;AAIEM,IAAAA,KAAK,EAAE;AAJT,GAnBK;AAHY,CAArB;AA+BA,OAAO,MAAMI,aAAa,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAC7C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBpB,UAAU,CAACG,OAAD,EAAUO,YAAV,CAApC;;AAEA,QAAMW,UAAU,GAAG,OAAOL,MAAP,EAAeM,GAAf,KAAuB;AACxC,QAAI;AACF,YAAMC,MAAM,GAAG,EAAf;AACAH,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAER,MAAR;AAAgBS,QAAAA,OAAO,EAAEF;AAAzB,OAAD,CAAR;AACD,KAHD,CAGE,OAAOG,KAAP,EAAc,CAAE;AACnB,GALD;;AAOAzB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM0B,IAAI,GAAGR,KAAK,CAACN,KAAnB;AACAc,IAAAA,IAAI,CAACC,OAAL,CAAcC,IAAD,IAAU;AACrB,YAAMb,MAAM,GAAGa,IAAI,CAACb,MAApB;AACA,YAAMM,GAAG,GAAI,GAAEH,KAAK,CAACR,OAAQ,GAAEkB,IAAI,CAACd,OAAQ,GAAEI,KAAK,CAACP,OAAQ,EAA5D;AACAkB,MAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AACAD,MAAAA,UAAU,CAACL,MAAD,EAASM,GAAT,CAAV;AACD,KALD;AAMD,GARQ,EAQN,EARM,CAAT;AAUA,sBACE,QAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE,EAAE,GAAGZ;AAAL,KAA9B;AAAA,cACGQ;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CAzBM;;GAAMD,a;;KAAAA,a;AA2Bb,OAAO,MAAMe,eAAe,GAAG,MAAM;AAAA;;AACnC,SAAOjC,UAAU,CAACS,YAAD,CAAjB;AACD,CAFM;;IAAMwB,e","sourcesContent":["import React, { useContext, useReducer, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport reducer from \"../reducer/movie_reducer\";\r\nimport {\r\n  FETCH_TRENDING_MOVIE,\r\n  FETCH_POPULAR_MOVIE,\r\n  FETCH_TOP_RATED_MOVIE,\r\n  FETCH_UPCOMING_MOVIE,\r\n} from \"../constants/action\";\r\n\r\nconst MovieContext = React.createContext();\r\n\r\nconst initialState = {\r\n  api_url: \"https://api.themoviedb.org/3\",\r\n  api_key: \"?api_key=d60f4e8797f13dd4c61d8414708bb669&language=en-US&page=1\",\r\n  movie: [\r\n    {\r\n      category: \"Trending\",\r\n      keyword: \"/trending/movie/day\",\r\n      action: FETCH_TRENDING_MOVIE,\r\n      movie: [],\r\n    },\r\n    {\r\n      category: \"Popular\",\r\n      keyword: \"/movie/popular\",\r\n      action: FETCH_POPULAR_MOVIE,\r\n      movie: [],\r\n    },\r\n    {\r\n      category: \"Top Rated\",\r\n      keyword: \"/movie/top_rated\",\r\n      action: FETCH_TOP_RATED_MOVIE,\r\n      movie: [],\r\n    },\r\n    {\r\n      category: \"Upcoming\",\r\n      keyword: \"/movie/upcoming\",\r\n      action: FETCH_UPCOMING_MOVIE,\r\n      movie: [],\r\n    },\r\n  ],\r\n};\r\n\r\nexport const MovieProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const fetchMovie = async (action, url) => {\r\n    try {\r\n      const movies = [];\r\n      dispatch({ type: action, payload: movies });\r\n    } catch (error) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    const list = state.movie;\r\n    list.forEach((item) => {\r\n      const action = item.action;\r\n      const url = `${state.api_url}${item.keyword}${state.api_key}`;\r\n      console.log(url);\r\n      fetchMovie(action, url);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <MovieContext.Provider value={{ ...initialState }}>\r\n      {children}\r\n    </MovieContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useMovieContext = () => {\r\n  return useContext(MovieContext);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}